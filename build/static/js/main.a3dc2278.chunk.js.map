{"version":3,"sources":["providers/softkeys/Softkeys.provider.jsx","components/softkeys/Softkeys.component.jsx","providers/images/Images.provider.jsx","providers/page/Page.provider.jsx","components/gallery/Gallery.component.jsx","scripts/events/handle-gallery.script.js","utils/firebase/firebase.utils.js","components/tabset/Tabset.component.jsx","scripts/events/handle-tabset.script.js","components/loading-spinner/LoadingSpinner.component.jsx","scripts/kaiad/kaiads.min.js","components/otherApp/otherApp.component.jsx","pages/home/Home.page.jsx","scripts/events/handle-home.script.js","scripts/snackbar/snackbar.script.js","scripts/events/handle-image.script.js","pages/image/Image.page.jsx","App.jsx","index.js"],"names":["initialState","left","center","right","actionNames","reduce","state","action","type","payload","Object","assign","softkActions","keys","SoftkeysContext","createContext","SoftkeysProvider","children","useReducer","softkState","softkDispatch","Provider","value","Softkeys","useContext","className","id","order","myid","page","replace","q","Error","imageActions","options","query","ImageContext","TabProvider","imageState","imageDispatch","pageActions","PageContext","PageProvider","pageState","pageDispatch","trackWindowScroll","images","scrollPosition","dispatch","handleScroll","window","scrollY","innerHeight","document","documentElement","scrollHeight","removeEventListener","setTimeout","addEventListener","useEffect","breakpointCols","columnClassName","map","imageData","key","onKeyUp","event","toString","handleKeys","src","previewURL","alt","tags","effect","threshold","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","getTags","a","ref","once","then","snapshot","val","Tabset","useState","tabsArray","tagsArray","setTagsArray","handleTabset","dispatchSoftK","selection","nav","step","navs","Array","from","querySelectorAll","galleryNode","querySelector","tabsetNode","scrollTo","classList","add","remove","length","checked","inputRect","nextElementSibling","getBoundingClientRect","x","tab","dataset","tag","ad","searchBar","activeElement","focus","dispatchEvent","KeyboardEvent","bubbles","cancelBubble","cancelable","defaultPrevented","keyCode","which","blur","tabsetScript","array","idx","name","data-tab","defaultChecked","htmlFor","data-tag","LoadingSpinner","getKaiAd","t","r","l","n","o","s","i","f","d","u","p","c","y","m","g","h","v","w","b","parseInt","k","console","A","E","body","I","e","crypto","getRandomValues","Uint16Array","call","join","O","S","j","onerror","clearTimeout","onready","on","postMessage","JSON","stringify","WeakSet","has","container","position","top","C","test","split","shift","pop","bind","origin","parse","data","forEach","vfsAdId","indexOf","preventDefault","stopPropagation","getNewAd","publisher","app","slot","getElementById","err","error","navClass","display","customStyles","content","bottom","marginRight","transform","apps","localStorage","getItem","OtherAppComponent","isOpen","onClosed","onRequestClose","style","contentLabel","tabIndex","data-appId","storeAppName","image","category","title","description","Modal","setAppElement","apiReqCount","Home","setImages","loadedImg","setLoadedImg","showModal","setShowModal","handleHome","checkFocused","scroll","homeScript","scrollBy","changedId","img","prev","fetchApi","column1","log","url","caches","open","imagesCache","entries","setItem","fetch","res","json","hits","changed","catch","match","autoFocus","onChange","onSearch","trim","toLowerCase","onClear","suggestions","renderSearchButton","placeholder","showSnackbar","message","innerHTML","handleImageScript","goBack","handleImage","target","adSection","adPopup","score","adParaph","adleft","adcenter","adright","pointsContainer","thanksContainer","closePopup","handleAd","handleAcept","Image","crossOrigin","onload","canvas","createElement","link","width","height","getContext","drawImage","download","Date","now","href","toDataURL","appendChild","click","removeChild","setImage","isLoaded","setIsLoaded","fetchAPi","imageCache","filter","data-src","webformatURL","onLoad","readJsonFile","file","callback","rawFile","XMLHttpRequest","overrideMimeType","onreadystatechange","readyState","status","responseText","send","navigator","onLine","Promise","race","all","resolve","_","reject","text","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.a3dc2278.chunk.js","sourcesContent":["import React, { createContext, useReducer } from \"react\";\r\n\r\nconst initialState = {\r\n  left: \"Tab Left\",\r\n  center: \"Search\",\r\n  right: \"Tab Right\"\r\n};\r\n\r\nconst actionNames = {\r\n  SET_KEYS: \"SET_KEYS\"\r\n};\r\n\r\nconst reduce = (state, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case actionNames.SET_KEYS:\r\n      return Object.assign({}, state, payload);\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\nexport const softkActions = {\r\n  setkeys: keys => ({ type: actionNames.SET_KEYS, payload: keys })\r\n};\r\n\r\nexport const SoftkeysContext = createContext(initialState);\r\n\r\nconst SoftkeysProvider = ({ children }) => {\r\n  const [softkState, softkDispatch] = useReducer(\r\n    reduce,\r\n    initialState\r\n  );\r\n\r\n  return (\r\n    <SoftkeysContext.Provider value={{ softkState, softkDispatch }}>\r\n      {children}\r\n    </SoftkeysContext.Provider>\r\n  );\r\n};\r\n\r\nexport default SoftkeysProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { SoftkeysContext } from \"../../providers/softkeys/Softkeys.provider\";\r\nimport \"./Softkeys.styles.scss\";\r\n\r\nconst Softkeys = () => {\r\n  const {\r\n    softkState: { left, center, right }\r\n  } = useContext(SoftkeysContext);\r\n  return (\r\n    <div className=\"Softkeys\">\r\n      <p id=\"s-left\">{left}</p>\r\n      <p id=\"s-center\">{center}</p>\r\n      <p id=\"s-right\">{right}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Softkeys;\r\n","import React, { createContext, useReducer } from \"react\";\r\n\r\nconst initialState = {\r\n  order: \"popular\",\r\n  myid: \"popular1\"\r\n};\r\n\r\nconst actionNames = {\r\n  SELECT_TAB: \"SELECT_TAB\",\r\n  LOAD_MORE: \"LOAD_MORE\",\r\n  SEARCH: \"SEARCH\",\r\n  INITIALIZE: \"INITIALIZE\"\r\n};\r\n\r\n// for managing page\r\nlet page = 2;\r\n\r\nconst reduce = (state, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case actionNames.SELECT_TAB:\r\n      page = 2; // re initializing page number\r\n\r\n      return Object.assign({}, state, payload, {\r\n        page: 1\r\n      });\r\n\r\n    case actionNames.LOAD_MORE:\r\n      return Object.assign({}, state, {\r\n        page: payload,\r\n        myid: state.myid.replace(/[0-9]+$/, payload)\r\n      });\r\n\r\n    case actionNames.SEARCH:\r\n      return Object.assign({}, { q: payload, myid: payload + \"1\" });\r\n\r\n    case actionNames.INITIALIZE:\r\n      return Object.assign({}, initialState);\r\n\r\n    default:\r\n      return Error(\"image action not available\");\r\n  }\r\n};\r\n\r\nexport const imageActions = {\r\n  selectTab: options => ({\r\n    type: actionNames.SELECT_TAB,\r\n    payload: options\r\n  }),\r\n  loadMore: () => ({ type: actionNames.LOAD_MORE, payload: page++ }),\r\n  search: query => ({ type: actionNames.SEARCH, payload: query }),\r\n  initialize: () => ({ type: actionNames.INITIALIZE })\r\n};\r\n\r\nexport const ImageContext = createContext(initialState);\r\n\r\nconst TabProvider = ({ children }) => {\r\n  const [imageState, imageDispatch] = useReducer(\r\n    reduce,\r\n    initialState\r\n  );\r\n\r\n  return (\r\n    <ImageContext.Provider value={{ imageState, imageDispatch }}>\r\n      {children}\r\n    </ImageContext.Provider>\r\n  );\r\n};\r\n\r\nexport default TabProvider;\r\n","import React, { createContext, useReducer } from \"react\";\r\n\r\nconst initialState = { page: \"home\" };\r\n\r\nconst actionNames = {\r\n  SET_PAGE: \"SET_PAGE\"\r\n};\r\n\r\nconst reduce = (state, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case actionNames.SET_PAGE:\r\n      return Object.assign({}, state, { page: payload });\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\nexport const pageActions = {\r\n  setPage: page => ({ type: actionNames.SET_PAGE, payload: page })\r\n};\r\n\r\nexport const PageContext = createContext(initialState);\r\n\r\nconst PageProvider = ({ children }) => {\r\n  const [pageState, pageDispatch] = useReducer(reduce, initialState);\r\n\r\n  return (\r\n    <PageContext.Provider value={{ pageState, pageDispatch }}>\r\n      {children}\r\n    </PageContext.Provider>\r\n  );\r\n};\r\n\r\nexport default PageProvider;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport Masonry from \"react-masonry-css\";\r\n// import LazyLoad from \"react-lazyload\";\r\n// import { CSSTransitionGroup } from \"react-transition-group\";\r\nimport { LazyLoadImage, trackWindowScroll } from \"react-lazy-load-image-component\"; // prettier-ignore\r\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\r\n\r\nimport { handleKeys } from \"../../scripts/events/handle-gallery.script\";\r\nimport { ImageContext, imageActions } from \"../../providers/images/Images.provider\"; // prettier-ignore\r\nimport { PageContext, pageActions } from '../../providers/page/Page.provider'; // prettier-ignore\r\nimport { SoftkeysContext, softkActions } from '../../providers/softkeys/Softkeys.provider'; // prettier-ignore\r\nimport \"./Gallery.styles.scss\";\r\n\r\nconst Gallery = ({ images, scrollPosition }) => {\r\n  const { imageDispatch } = useContext(ImageContext);\r\n  const { pageDispatch } = useContext(PageContext);\r\n  const { softkDispatch } = useContext(SoftkeysContext);\r\n  // const [effect, setEffect] = useState(\"fade\");\r\n\r\n  const loadMore = () => {\r\n    imageDispatch(imageActions.loadMore());\r\n  };\r\n\r\n  // dispatch function for handleKey\r\n  const dispatch = (id) => {\r\n    pageDispatch(pageActions.setPage(id));\r\n\r\n    softkDispatch(\r\n      softkActions.setkeys({\r\n        left: \"Back\",\r\n        center: \"Save\",\r\n        right: \"AD\",\r\n      })\r\n    );\r\n  };\r\n\r\n  function handleScroll() {\r\n    if (\r\n      window.scrollY + window.innerHeight + 300 >=\r\n      document.documentElement.scrollHeight\r\n    ) {\r\n      loadMore();\r\n\r\n      window.removeEventListener(\"scroll\", handleScroll, false);\r\n\r\n      setTimeout(() => {\r\n        window.addEventListener(\"scroll\", handleScroll, false);\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", handleScroll, false);\r\n\r\n    return () =>\r\n      window.removeEventListener(\"scroll\", handleScroll, false);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <Masonry\r\n      breakpointCols={2}\r\n      className=\"animated Gallery\"\r\n      columnClassName=\"my-masonry-grid_column\"\r\n    >\r\n      {images.map((imageData) => (\r\n        <button\r\n          className=\"home-nav\"\r\n          key={imageData.myid ? imageData.myid : imageData.id}\r\n          onKeyUp={(event) =>\r\n            handleKeys(event, imageData.id, dispatch)\r\n          }\r\n        >\r\n          <LazyLoadImage\r\n            src={imageData.previewURL}\r\n            alt={imageData.tags}\r\n            effect=\"blur\"\r\n            scrollPosition={scrollPosition}\r\n            threshold={200}\r\n            // onLoad={() => setEffect(\"fade-enter\")}\r\n          />\r\n        </button>\r\n      ))}\r\n    </Masonry>\r\n  );\r\n};\r\n\r\nexport default trackWindowScroll(Gallery);\r\n","export function handleKeys(event, id, dispatch) {\r\n  switch (event.key) {\r\n    case \"Enter\":\r\n      dispatch(id.toString());\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\n\r\nfirebase.initializeApp({\r\n  apiKey: \"AIzaSyBVo46h8i6Za7xzNZ1bTtMzwAVswoKRW3g\",\r\n  authDomain: \"image-album-kaios.firebaseapp.com\",\r\n  databaseURL: \"https://image-album-kaios.firebaseio.com\",\r\n  projectId: \"image-album-kaios\",\r\n  storageBucket: \"image-album-kaios.appspot.com\",\r\n  messagingSenderId: \"471337136270\",\r\n  appId: \"1:471337136270:web:c83e0ba4ff654621ec59df\"\r\n});\r\n\r\nconst database = firebase.database();\r\n\r\nexport const getTags = async () =>\r\n  database\r\n    .ref(\"/tags\")\r\n    .once(\"value\")\r\n    .then(snapshot => Object.keys(snapshot.val()));\r\n","import React, { useEffect, useState, useContext, Fragment } from \"react\"; // prettier-ignore\r\nimport { ImageContext, imageActions } from \"../../providers/images/Images.provider\"; // prettier-ignore\r\nimport { SoftkeysContext, softkActions } from '../../providers/softkeys/Softkeys.provider'; // prettier-ignore\r\nimport { getTags } from \"../../utils/firebase/firebase.utils\";\r\n\r\nimport { tabsetScript } from \"../../scripts/events/handle-tabset.script\";\r\n\r\nimport \"./Tabset.styles.scss\";\r\n\r\nconst Tabset = () => {\r\n  const { imageDispatch } = useContext(ImageContext);\r\n  const [tabsArray] = useState([\"popular\", \"latest\"]);\r\n  const [tagsArray, setTagsArray] = useState([]);\r\n  const { softkDispatch } = useContext(SoftkeysContext);\r\n\r\n  function dispatch(tab) {\r\n    imageDispatch(imageActions.selectTab(tab));\r\n  }\r\n\r\n  const dispatchSoftK = keys => {\r\n    softkDispatch(softkActions.setkeys(keys));\r\n  };\r\n\r\n  // passing the dispatch function to the event\r\n  const handleTabset = tabsetScript(dispatch, dispatchSoftK);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleTabset, false);\r\n\r\n    getTags().then(array => setTagsArray(array));\r\n\r\n    return () =>\r\n      document.removeEventListener(\"keydown\", handleTabset, false);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"Tabset\">\r\n      {tabsArray.map((tab, idx) => (\r\n        <Fragment key={idx}>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"tabset\"\r\n            id={\"tab\" + idx}\r\n            data-tab={tab}\r\n            defaultChecked={idx === 0 && true}\r\n          />\r\n          <label htmlFor={\"tab\" + idx}>{tab}</label>\r\n        </Fragment>\r\n      ))}\r\n      {tagsArray.length\r\n        ? tagsArray.map((tag, idx) => (\r\n            <Fragment key={idx}>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"tabset\"\r\n                id={\"tag\" + idx}\r\n                data-tag={tag}\r\n              />\r\n              <label htmlFor={\"tag\" + idx}>#{tag}</label>\r\n            </Fragment>\r\n          ))\r\n        : null}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Tabset;\r\n","export function tabsetScript(dispatch, dispatchSoftK) {\r\n  let selection = 0;\r\n\r\n  function nav(step) {\r\n    const navs = Array.from(\r\n      document.querySelectorAll('.Tabset > input[type=\"radio\"]')\r\n    );\r\n    const galleryNode = document.querySelector(\".Gallery\");\r\n    const tabsetNode = document.querySelector(\".Tabset\");\r\n\r\n    selection += step;\r\n\r\n    //Adding animation of scrolling right and left\r\n    window.scrollTo(0, 0);\r\n    if (step === 1) {\r\n      galleryNode.classList.add(\"bounceOutLeft\");\r\n\r\n      setTimeout(() => {\r\n        galleryNode.classList.remove(\"bounceOutLeft\");\r\n        galleryNode.classList.add(\"bounceInRight\");\r\n\r\n        setTimeout(() => {\r\n          galleryNode.classList.remove(\"bounceInRight\");\r\n        }, 500);\r\n      }, 500);\r\n    } else {\r\n      galleryNode.classList.add(\"bounceOutRight\");\r\n\r\n      setTimeout(() => {\r\n        galleryNode.classList.remove(\"bounceOutRight\");\r\n        galleryNode.classList.add(\"bounceInLeft\");\r\n\r\n        setTimeout(() => {\r\n          galleryNode.classList.remove(\"bounceInLeft\");\r\n        }, 500);\r\n      }, 500);\r\n    }\r\n\r\n    //avoiding selection overflow\r\n    if (selection > navs.length - 1) selection = 0;\r\n    else if (selection < 0) selection = navs.length - 1;\r\n\r\n    // checking the input\r\n    navs[selection].checked = true;\r\n\r\n    // scrolling the tabset to the checked one\r\n    const inputRect = navs[\r\n      selection\r\n    ].nextElementSibling.getBoundingClientRect();\r\n\r\n    tabsetNode.scrollTo(inputRect.x, 0);\r\n\r\n    const tab = navs[selection].dataset.tab;\r\n    const tag = navs[selection].dataset.tag;\r\n    // setting a new tab state\r\n    if (tab) dispatch({ order: tab, myid: tab + \"1\", q: \"\" });\r\n    else dispatch({ q: tag, myid: tag + \"1\", order: \"latest\" });\r\n  }\r\n\r\n  function handleTabset(event) {\r\n    const ad = document.querySelector(\".adItem\");\r\n    const searchBar = document.querySelector(\r\n      \".react-search-bar__input\"\r\n    );\r\n\r\n    if (document.activeElement === ad) {\r\n      if (event.key !== \"SoftLeft\") return;\r\n\r\n      ad.focus();\r\n\r\n      ad.dispatchEvent(\r\n        new KeyboardEvent(\"keydown\", {\r\n          bubbles: true,\r\n          cancelBubble: true,\r\n          cancelable: true,\r\n          defaultPrevented: true,\r\n          key: \"Enter\",\r\n          keyCode: 13,\r\n          which: 13,\r\n        })\r\n      );\r\n\r\n      ad.blur();\r\n      return;\r\n    }\r\n\r\n    // if (document.activeElement === searchBar) {\r\n    //   if (event.key === \"SoftLeft\") return;\r\n    //   if (event.key === \"SoftRight\") return;\r\n    // }\r\n\r\n    switch (event.key) {\r\n      case \"SoftLeft\": // SoftLeft\r\n        nav(-1);\r\n        searchBar.focus();\r\n        dispatchSoftK({\r\n          left: \"Tab Left\",\r\n          center: \"Search\",\r\n          right: \"Tab Right\",\r\n        });\r\n        break;\r\n\r\n      case \"SoftRight\": // SoftRight\r\n        nav(1);\r\n        searchBar.focus();\r\n        dispatchSoftK({\r\n          left: \"Tab Left\",\r\n          center: \"Search\",\r\n          right: \"Tab Right\",\r\n        });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return handleTabset;\r\n}\r\n","import React from \"react\";\r\nimport \"./LoadingSpinner.styles.scss\";\r\n\r\nconst LoadingSpinner = () => (\r\n  <div id=\"SpinnerOverlay\">\r\n    <div className=\"spinner-container\" />\r\n  </div>\r\n);\r\n\r\nexport default LoadingSpinner; //Este es un high order component\r\n","import './kaiad.styles.css'\n\n// eslint-disable-next-line\nconst getKaiAd=((...e)=>{let t=e[0],r=e[1],l=e[2],n={},o=\"setAttribute\",s=\"createElement\",i=\"contentWindow\",a=\"appendChild\",f=\"addEventListener\",d=\"dataset\",u=\"keydown\",p=\"length\",c=\"style\",y=\"error\",m=\"timeout\",g=\"push\",h=\"message\",v=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\",w=v[p],b=parseInt,k=console[y],A={},E=()=>r.body,I=()=>{let e=crypto.getRandomValues(new Uint16Array(32));return[].map.call(e,e=>v[e%w]).join(\"\")},O=I(),S=e=>typeof e==typeof p,j=e=>{let t={};t[24]=e,t[5]=I(),t[16]=[],n[t[5]]=t,t[12]=[],t[25]={},t[15]=(e=>{(t[24].onerror||k)(e),t[29]()}),t[29]=(()=>{t[18]&&t[18].remove(),n[t[5]]=t=l}),t[14]=(()=>{clearTimeout(t[22]),t[24].onready({call(e,r){t[11](e,r)},on(e,r){t[25][e]||(t[25][e]=[]),t[25][e][g](r)}})}),t[11]=((e,...r)=>{if(t[19]&&t[19][i]){let l=[];l[5]=t[5],l[6]=e,l[8]=r,t[19][i].postMessage(JSON.stringify(l,(()=>{const e=new WeakSet;return(t,r)=>{if(\"object\"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}})()),\"*\")}else t[15](4)}),t[22]=(()=>(t[24][m]=t[24][m]||6e4,setTimeout(()=>{t[15](5)},t[24][m])))(),t[17]=(()=>{let e=t[24].container;return e||(e=E(),t[23]=t[24][23]=1),e})(),t[19]=(()=>{let e=`https://ssp.kaiads.com/static/v2/frame.html?i=${t[5]}&s=${O}`,l=r[s](\"iframe\");l[o](\"src\",e);let n=r[s](\"div\");return n[d][O]=t[5],n[c].position=\"absolute\",n[c].left=\"-1000%\",n[c].top=\"0\",t[18]=n,t[23]||(n[f](\"focus\",e=>t[11](\"focus\")),n[f](\"blur\",e=>t[11](\"blur\"))),n[a](l),t[17][a](n),n[d][O]=t[5],l})()},C=(e,r)=>{let n={};n[10]=e,e[12][g](r[7]),n[7]=r[7],n[6]=r[6],n[28]=-1,n[8]=[],n[9]=[],n[1]=(t=>{let r=n[26](t[1]);if(r[1]){let e=n[27](t[3]);n[9][n[28]]=t[0]?new r[1](...e[0]):r[1](...e[0]),e[1]||n[13]()}else n[10][11](n[6],y,10,e[12][p],n[28])}),n[2]=(t=>{if(t[4]){let r=n[26](t[4]);if(r[21])n[10][11](n[6],y,11,e[12][p],n[28]);else{let e;e=r[1]?r[1]:r[7]?r[7]:t[4];let o=n[26](t[2],e);n[9][n[28]]=l,o[13]||n[13]()}}else{let r=n[26](t[2]);r[21]?n[10][11](n[6],y,12,e[12][p],n[28]):(n[9][n[28]]=r,n[13]())}}),n[13]=((...e)=>{n[28]++,n[8][n[28]]=e;let t=n[7][n[28]];t&&(t[1]?n[1](t):t[2]?n[2](t):n[13]())}),n[27]=(e=>{let t=[[],l];if(e)for(let r=0,l=e[p];l>r;r++)if(S(e[r])){let l=n[26](e[r]);l[1]?(t[0][g](l[1]),l[13]&&(t[1]=1)):l[7]?t[0][g](l[7]):t[0][g](e[r])}else t[0][g](e[r]);return t}),n[26]=((e,r)=>{let o={};if(S(e)&&/^[wts]/.test(e)){let s=e.split(\".\"),i=s.shift();\"t\"==i?i=n:\"w\"==i?i=t:\"s\"==i&&(i=A);for(let e=0,t=s[p];t>e;e++){if(t>e&&(o[20]=i),i[s[e]]===l&&t>e){if(r)break;return o[21]=1,o}if((i===l||i[s[e]]===l)&&t>e&&r===l)return o[21]=1,o;i=i[s[e]]}r!==l&&(o[20][s.pop()]=r,i=r),(e=>typeof e==typeof b)(i)&&(o[13]=i===n[13],o[13]?o[1]=i:o[1]=i.bind(o[20])),o[7]=i}return o}),n[13]()};return t[f](h,e=>{if(!e||!e.origin||\"https://ssp.kaiads.com\"!==e.origin)return;let t=JSON.parse(e.data);if(n[t[5]]){let e=n[t[5]];t[7]&&C(e,t),e[25][t[6]]&&e[25][t[6]].forEach(e=>e(t[8]))}}),t[f](u,e=>{let t;if(A.vfsAdId&&n[A.vfsAdId])t=n[A.vfsAdId];else{let e=r.activeElement,l=e[d][O];if(!e||!l)return;t=n[l]}t&&(t[16].indexOf(e.key)>-1||(t[11](u,e.key,e.keyCode),e.preventDefault(),e.stopPropagation()))}),e=>{let t=e.onerror||k;E()?e.onready?j(e):t(2):t(1)}})(window,document);\n\nexport function getNewAd(id) {\n  getKaiAd({\n    publisher: 'bc247e7b-cd8a-4dda-be8c-e766a729f6b8',\n    app: 'Pixabay',\n    slot: 'diTenTapsFS',\n    test: 1,\n    h: 54,\n    w: 240,\n    container: document.getElementById(id),\n    onerror: err => console.error(err),\n    onready: ad => {\n      ad.call('display', {\n        navClass: 'adItem',\n        display: 'block'\n      });\n\n      window.scrollTo(0, 0);\n    }\n  })\n}\n\nexport function getFullAd() {\n  getKaiAd({\n    publisher: 'bc247e7b-cd8a-4dda-be8c-e766a729f6b8',\n    app: 'Pixabay',\n    slot: 'diTenTapsFS',\n    onerror: err => console.error(err),\n    onready: ad => {\n      ad.call('display');\n    }\n  })\n}","import React from \"react\";\nimport Modal from \"react-modal\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\nconst apps = JSON.parse(localStorage.getItem(\"apps\"));\n// Make sure to bind modal to your appElement (http://reactcommunity.org/react-modal/accessibility/)\nModal.setAppElement(\"body\");\n\nexport default function OtherAppComponent({ isOpen, onClosed }) {\n  return (\n    <div>\n      <Modal\n        isOpen={isOpen ?? false}\n        onRequestClose={onClosed}\n        style={customStyles}\n        contentLabel=\"Example Modal\">\n        <div className=\"clippedHead\">\n          <div className=\"clippedHeadText\">Try some other apps</div>\n        </div>\n        <div>\n          <div className=\"list-group\">\n            {apps.map((app) => {\n              return (\n                <div\n                  className=\"list-group-item list-group-item-action\"\n                  tabIndex=\"1\"\n                  data-appId=\"1\"\n                  key={app.storeAppName}>\n                  <div className=\" imageApp \">\n                    <div className=\"appImg\">\n                      <img src={app.image} alt=\"appImage\"></img>\n                      <div>\n                        <small className=\"appCategory\">{app.category}</small>\n                        <small className=\"appName\">{app.title}</small>\n                      </div>\n                    </div>\n                    <div className=\"getDownload\">\n                      <img\n                        className=\"download\"\n                        src=\"/images/download.png\"\n                        alt=\"download\"></img>\n                      <small>Get</small>\n                    </div>\n                  </div>\n                  <small className=\"description\">Description</small>\n                  <small className=\"des-text\">{app.description} </small>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from \"react\"; // prettier-ignore\nimport Search from \"react-search-bar\";\nimport Gallery from \"../../components/gallery/Gallery.component\";\nimport Tabset from \"../../components/tabset/Tabset.component\";\nimport LoadingSpinner from \"../../components/loading-spinner/LoadingSpinner.component\";\n\nimport { ImageContext, imageActions } from \"../../providers/images/Images.provider\"; // prettier-ignore\nimport { SoftkeysContext, softkActions } from '../../providers/softkeys/Softkeys.provider'; // prettier-ignore\n\nimport { getNewAd, getFullAd } from \"../../scripts/kaiad/kaiads.min\";\nimport { homeScript } from \"../../scripts/events/handle-home.script\";\n\nimport \"./Home.styles.scss\";\nimport OtherAppComponent from \"../../components/otherApp/otherApp.component\";\n\nlet apiReqCount = 0;\n\nfunction Home() {\n  const { imageState, imageDispatch } = useContext(ImageContext);\n  const [images, setImages] = useState([]);\n  const [loadedImg, setLoadedImg] = useState({});\n  const { softkDispatch } = useContext(SoftkeysContext);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    // verifyingConnection();\n\n    getNewAd(\"ad-container2\");\n    getNewAd(\"ad-container3\");\n\n    const handleHome = homeScript(dispatch);\n\n    document.addEventListener(\"keydown\", handleHome, false);\n\n    return () => document.removeEventListener(\"keydown\", handleHome, false);\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollBy(0, 1);\n    }, 2000);\n    // if it was fetched then don't fetch it\n    if (imageState.myid in loadedImg) {\n      // if it is new gallery then clear the images\n      if (/[1]$/.test(imageState.myid)) {\n        setImages(loadedImg[imageState.myid]);\n\n        // setTimeout(() => {\n        //   // lazy load check\n        //   forceCheck();\n        // }, 2000);\n\n        // return forceCheck();\n        return;\n      }\n\n      // adding a number to the id in order to make it unique in all the app\n      const changedId = loadedImg[imageState.myid].forEach((img) => {\n        img.myid = img.id + imageState.myid[imageState.myid.length - 1];\n        return img;\n      });\n\n      setImages((prev) => [...prev, ...changedId]);\n\n      // setTimeout(() => {\n      //   // lazy load check after 2s\n      //   forceCheck();\n      // }, 2000);\n\n      // // lazy load check\n      // return forceCheck();\n      return;\n    }\n\n    fetchApi(imageState);\n    // eslint-disable-next-line\n  }, [imageState]);\n\n  useEffect(() => {\n    // every time the app taps\n    if (images.length <= 20) {\n      const column1 = document.querySelector(\".my-masonry-grid_column\");\n\n      if (column1) {\n        if (column1.children[0]) {\n          column1.children[0].focus();\n          softkDispatch(\n            softkActions.setkeys({\n              left: \"Tab Left\",\n              center: \"Select\",\n              right: \"Tab Right\",\n            })\n          );\n          window.scrollTo(0, 0);\n        }\n      }\n    }\n    // eslint-disable-next-line\n  }, [images]);\n\n  const dispatch = (keys) => {\n    softkDispatch(softkActions.setkeys(keys));\n  };\n\n  const handleSearch = (query) => {\n    query.trim().toLowerCase();\n\n    imageDispatch(imageActions.search(query));\n  };\n\n  // const verifyingConnection = () => {\n  //   if (!navigator.onLine) {\n  //     showSnackbar(\"You need an active Internet connection\");\n  //   }\n  // };\n\n  const apiURL =\n    \"https://pixabay.com/api/?key=15383924-b55678bf3c204ea5966552481\";\n\n  const fetchApi = async (options) => {\n    apiReqCount++;\n    console.log(apiReqCount);\n    if (apiReqCount % 6 === 0) getFullAd();\n\n    if (apiReqCount === 5) {\n      setShowModal(true);\n    }\n\n    let url = apiURL;\n    const imagesCache = await caches.open(\"imagesCache\");\n\n    Object.entries(options).forEach(([key, value]) => {\n      // escaping the property myid which is used for storage\n      if (key === \"myid\") return;\n\n      // escaping the prop without value\n      if (!value) return;\n\n      url += `&${key}=${value}`;\n    });\n    localStorage.setItem(\"cacheURL\", url);\n    return fetch(url)\n      .then((res) => res.json())\n      .then((res) => {\n        setLoadedImg({ [options.myid]: res.hits, ...loadedImg });\n\n        // if it is new gallery then clear the images\n\n        if (/[1]$/.test(imageState.myid)) {\n          setImages(res.hits);\n          imagesCache.add(url);\n          return;\n        }\n\n        const changed = res.hits.map((img) => {\n          img.myid = img.id + imageState.myid[imageState.myid.length - 1];\n\n          return img;\n        });\n\n        setImages((prev) => [...prev, ...changed]);\n\n        // setTimeout(() => {\n        //   // lazy load check\n        //   forceCheck();\n        // }, 2000);\n\n        // forceCheck();\n      })\n      .catch((error) => {\n        imagesCache\n          .match(url)\n          .then((res) => {\n            if (res) {\n              return res.json();\n            } else {\n              throw new Error(\"error\");\n            }\n          })\n          .then((images) => {\n            console.log(\"SERVED FROM CACHE\");\n            return setImages(images.hits);\n          })\n          .catch((err) => console.log(\"No internet!\"));\n      });\n  };\n\n  return (\n    <main className=\"Home\">\n      <div className=\"search-container\">\n        <Search\n          autoFocus\n          onChange={() => {}}\n          onSearch={handleSearch}\n          onClear={() => {}}\n          suggestions={[]} //component prop bugged\n          renderSearchButton\n          placeholder=\"Search images\"\n        />\n      </div>\n\n      <Tabset />\n      <Gallery images={images} />\n      <LoadingSpinner />\n      {showModal && (\n        <OtherAppComponent\n          isOpen={showModal}\n          onClosed={() => setShowModal(false)}\n        />\n      )}\n    </main>\n  );\n}\n\nexport default Home;\n","export function homeScript(dispatch) {\r\n  // module design pattern\r\n\r\n  function checkFocused() {\r\n    if (\r\n      document.activeElement ===\r\n      document.querySelector(\".react-search-bar__input\")\r\n    ) {\r\n      dispatch({\r\n        left: \"Tab Left\",\r\n        center: \"Search\",\r\n        right: \"Tab Right\",\r\n      });\r\n      window.scrollTo({\r\n        top: 0,\r\n        left: 0,\r\n        scroll: \"smooth\",\r\n      });\r\n    } else if (\r\n      document.activeElement === document.querySelector(\".adItem\")\r\n    ) {\r\n      dispatch({ left: \"AD\", center: \"\", right: \"\" });\r\n      window.scrollTo({\r\n        top: 0,\r\n        left: 0,\r\n        scroll: \"smooth\",\r\n      });\r\n    } else\r\n      dispatch({\r\n        left: \"Tab Left\",\r\n        center: \"Select\",\r\n        right: \"Tab Right\",\r\n      });\r\n  }\r\n\r\n  function handleHome(event) {\r\n    switch (event.key) {\r\n      case \"ArrowUp\":\r\n        setTimeout(() => {\r\n          checkFocused();\r\n        }, 100);\r\n        // forceCheck();\r\n        break;\r\n\r\n      // case \"SoftLeft\": // softleft\r\n      //   setImages([]);\r\n      //   break;\r\n\r\n      // case \"SoftRight\": // softright\r\n      //   // document.querySelector(\".react-search-bar__input\").focus();\r\n      //   // dispatch({ left: \"\", center: \"Search\", right: \"\" });\r\n      //   setImages([]);\r\n      //   break;\r\n\r\n      case \"ArrowDown\":\r\n        setTimeout(() => {\r\n          checkFocused();\r\n        }, 100);\r\n        // forceCheck();\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return handleHome;\r\n}\r\n","import \"./snackbar.css\";\r\n\r\nexport function showSnackbar(message) {\r\n  const x = document.getElementById(\"snackbar\");\r\n  x.innerHTML = message;\r\n  x.className = \"show\";\r\n  setTimeout(function() {\r\n    x.className = x.className.replace(\"show\", \"\");\r\n  }, 3000);\r\n}\r\n","import { showSnackbar } from \"../snackbar/snackbar.script\";\r\nimport { getNewAd } from \"../../scripts/kaiad/kaiads.min\";\r\n\r\nexport function handleImageScript(dispatch, goBack) {\r\n  function handleImage(event) {\r\n    switch (event.key) {\r\n      case \"Enter\": //SoftRight\r\n        if (event.target === document.querySelector(\".adItem\"))\r\n          return;\r\n\r\n        window.scrollTo(0, 0);\r\n\r\n        adSection.adPopup();\r\n        break;\r\n\r\n      case \"SoftLeft\":\r\n        goBack();\r\n\r\n        dispatch(\"home\", {\r\n          left: \"Tab Left\",\r\n          center: \"Search\",\r\n          right: \"Tab Right\",\r\n        });\r\n        break;\r\n\r\n      case \"SoftRight\":\r\n        const ad = document.querySelector(\".adItem\");\r\n\r\n        if (!ad) return;\r\n\r\n        ad.focus();\r\n\r\n        ad.dispatchEvent(\r\n          new KeyboardEvent(\"keydown\", {\r\n            bubbles: true,\r\n            cancelBubble: true,\r\n            cancelable: true,\r\n            defaultPrevented: true,\r\n            key: \"Enter\",\r\n            keyCode: 13,\r\n            which: 13,\r\n          })\r\n        );\r\n\r\n        ad.blur();\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  const adSection = (function () {\r\n    const adSection = document.getElementById(\"ad-section\");\r\n    const score = document.getElementById(\"score\");\r\n    const adParaph = document.getElementById(\"ad-paraph\");\r\n    const adleft = document.getElementById(\"ad-left\");\r\n    const adcenter = document.getElementById(\"ad-center\");\r\n    const adright = document.getElementById(\"ad-right\");\r\n    const ad = document.querySelector(\".adItem\");\r\n    const pointsContainer = document.querySelector(\r\n      \".points-container\"\r\n    );\r\n    const thanksContainer = document.querySelector(\r\n      \".thanks-container\"\r\n    );\r\n    getNewAd(\"ad-container\");\r\n    getNewAd(\"ad-container2\");\r\n\r\n    function adPopup() {\r\n      adSection.style.transform = \"scale(1)\";\r\n      pointsContainer.style.display = \"flex\";\r\n      adSection.children[0].style.display = \"block\";\r\n\r\n      score.innerHTML = \"New Image! \";\r\n\r\n      adleft.innerHTML = \"Back\";\r\n      adcenter.innerHTML = \"\";\r\n      adright.innerHTML = \"Yes\";\r\n\r\n      adParaph.innerHTML = `Do you want to download this image?\r\n        You will need to watch an ad`;\r\n\r\n      document.addEventListener(\"keydown\", handleAd, false);\r\n      document.removeEventListener(\"keydown\", handleImage, false);\r\n    }\r\n\r\n    function closePopup() {\r\n      adSection.children[0].style.display = \"block\";\r\n      adSection.style.transform = \"scale(0)\";\r\n\r\n      score.innerHTML = \"\";\r\n      adcenter.innerHTML = \"\";\r\n      adright.innerHTML = \"\";\r\n      adleft.innerHTML = \"\";\r\n      adParaph.innerHTML = \"\";\r\n      thanksContainer.innerHTML = \"\";\r\n    }\r\n\r\n    function handleAd(event) {\r\n      switch (event.key) {\r\n        case \"SoftLeft\": //softleft\r\n          closePopup();\r\n\r\n          document.addEventListener(\"keydown\", handleImage, false);\r\n          document.removeEventListener(\"keydown\", handleAd, false);\r\n          break;\r\n        case \"SoftRight\": //softright\r\n          if (!ad) return;\r\n\r\n          ad.focus();\r\n\r\n          ad.dispatchEvent(\r\n            new KeyboardEvent(\"keydown\", {\r\n              bubbles: true,\r\n              cancelBubble: true,\r\n              cancelable: true,\r\n              defaultPrevented: true,\r\n              key: \"Enter\",\r\n              keyCode: 13,\r\n              which: 13,\r\n            })\r\n          );\r\n\r\n          ad.blur();\r\n\r\n          pointsContainer.style.display = \"none\";\r\n\r\n          thanksContainer.innerHTML =\r\n            '<img src=\"/images/rocket.png\" alt=\"rocket\"><span>Thanks</span>';\r\n\r\n          adParaph.innerHTML =\r\n            '<img src=\"/images/heart.png\" alt=\"heart\" /> The image will be downloaded <img src=\"/images/heart.png\" alt=\"heart\" />';\r\n\r\n          adleft.innerHTML = \"\";\r\n          adright.innerHTML = \"\";\r\n          adcenter.innerHTML = \"Continue\";\r\n\r\n          document.addEventListener(\"keydown\", handleAcept, false);\r\n          document.removeEventListener(\"keydown\", handleAd, false);\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    function handleAcept(event) {\r\n      if (event.key === \"Enter\") {\r\n        try {\r\n          const img = new Image();\r\n\r\n          img.crossOrigin = \"Anonymous\";\r\n\r\n          // CORS proxy due to innapropiate origin\r\n          img.src =\r\n            // \"https://cors-anywhere.herokuapp.com/\" +\r\n            document.getElementById(\"image\").dataset.src;\r\n\r\n          img.onload = function () {\r\n            const canvas = document.createElement(\"canvas\");\r\n            const link = document.createElement(\"a\");\r\n\r\n            //giving properties to canvas\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n\r\n            // printing the img into the canvas\r\n            canvas.getContext(\"2d\").drawImage(img, 0, 0);\r\n\r\n            // giving properties to link for preparing to download\r\n            link.download = \"img-stock\" + Date.now().toString();\r\n            link.href = canvas.toDataURL(\"image/png\");\r\n\r\n            document.body.appendChild(link);\r\n\r\n            link.click();\r\n\r\n            document.body.removeChild(link);\r\n\r\n            showSnackbar(\"Image Saved\");\r\n          };\r\n        } catch (error) {\r\n          showSnackbar(\"There was something wrong\");\r\n\r\n          console.error(error);\r\n        }\r\n\r\n        closePopup();\r\n\r\n        document.addEventListener(\"keydown\", handleImage, false);\r\n        document.removeEventListener(\"keydown\", handleAcept, false);\r\n      }\r\n    }\r\n\r\n    return {\r\n      adPopup,\r\n    };\r\n  })();\r\n\r\n  return handleImage;\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n// import { LazyLoadImage } from \"react-lazy-load-image-component\";\r\n// import \"react-lazy-load-image-component/src/effects/blur.css\";\r\n\r\nimport { PageContext, pageActions } from \"../../providers/page/Page.provider\"; // prettier-ignore\r\nimport { handleImageScript } from \"../../scripts/events/handle-image.script\";\r\nimport { SoftkeysContext, softkActions } from '../../providers/softkeys/Softkeys.provider'; // prettier-ignore\r\nimport { ImageContext, imageActions } from '../../providers/images/Images.provider'; // prettier-ignore\r\nimport { showSnackbar } from \"../../scripts/snackbar/snackbar.script\";\r\nimport \"./Image.styles.scss\";\r\n\r\nconst Image = ({ id }) => {\r\n  const [image, setImage] = useState({});\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  const { pageDispatch } = useContext(PageContext);\r\n  const { softkDispatch } = useContext(SoftkeysContext);\r\n  const { imageDispatch } = useContext(ImageContext);\r\n\r\n  const dispatch = (page, keys) => {\r\n    softkDispatch(softkActions.setkeys(keys));\r\n    pageDispatch(pageActions.setPage(page));\r\n  };\r\n\r\n  const goBack = () => {\r\n    imageDispatch(imageActions.initialize());\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAPi();\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const fetchAPi=async()=>{\r\n    console.log(id)\r\n    // if (!navigator.onLine && !localStorage.getItem(\"image\")) {\r\n    //   showSnackbar(\"You need an active Internet connection\");\r\n    // }\r\n\r\n    // if (!navigator.onLine && localStorage.getItem(\"image\")) {\r\n    //   setImage(JSON.parse(localStorage.getItem(\"image\")));\r\n    // }\r\n    const imageCache = await caches.open(\"imagesCache\")\r\n    fetch(\r\n        \"https://pixabay.com/api/?key=15383924-b55678bf3c204ea5966552481&id=\" +\r\n        id\r\n      )\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setImage(res.hits[0]);\r\n        console.log(res.hits[0]);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error loading img\", error);\r\n        fetch(\r\n            \"https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?key=15383924-b55678bf3c204ea5966552481&id=\" +\r\n            id\r\n          )\r\n          .then((res) => res.json())\r\n          .then((res) => {\r\n            setImage(res.hits[0]);\r\n            console.log(image);\r\n          })\r\n          .catch((error) => {\r\n            const url = localStorage.getItem(\"cacheURL\")\r\n            imageCache.match(url).then(res=>{\r\n              if (res) {\r\n                return res.json();\r\n              } else {\r\n                throw new Error(\"error\")\r\n              }\r\n            }).then(images=>{\r\n              // eslint-disable-next-line eqeqeq\r\n              const image = images.hits.filter(i=>i.id==id);\r\n              if (image&&image.length) {\r\n                setImage(image[0])\r\n              }else{\r\n                throw new Error(\"no internet!\");\r\n              }\r\n            }).catch(err=>{\r\n              console.log(\"error even with cors\", error);\r\n              showSnackbar(\"Something went wrong...\");\r\n            })\r\n          });\r\n      });\r\n    const handleImage = handleImageScript(dispatch, goBack);\r\n    document.addEventListener(\"keydown\", handleImage, false);\r\n    return () =>\r\n      document.removeEventListener(\"keydown\", handleImage, false);\r\n  };\r\n  return (\r\n    <section className=\"Image\">\r\n      {image && (\r\n        <div id=\"image-container\">\r\n          <img\r\n            src={image.previewURL}\r\n            alt={image.tags}\r\n            id=\"image\"\r\n            // effect=\"blur\"\r\n            data-src={image.webformatURL}\r\n            onLoad={() => setIsLoaded(true)}\r\n          />\r\n          {isLoaded && (\r\n            <img\r\n              src=\"/images/logo_square.png\"\r\n              alt=\"camera\"\r\n              id=\"logo\"\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n      <section id=\"ad-section\" style={{ transform: \"scale(0)\" }}>\r\n        <article>\r\n          <div tabIndex=\"-1\" id=\"ad-container\"></div>\r\n          <div className=\"points-container\">\r\n            <span id=\"score\"></span>\r\n            <img src=\"/images/star.png\" alt=\"star\" />\r\n          </div>\r\n          <div className=\"thanks-container\"></div>\r\n          <p id=\"ad-paraph\"></p>\r\n          <div id=\"choice\">\r\n            <span id=\"ad-left\"></span>\r\n            <span id=\"ad-center\"></span>\r\n            <span id=\"ad-right\"></span>\r\n          </div>\r\n        </article>\r\n      </section>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","import React, { useContext } from \"react\";\r\nimport Softkeys from \"./components/softkeys/Softkeys.component\";\r\nimport Home from \"./pages/home/Home.page\";\r\nimport Image from \"./pages/image/Image.page\";\r\nimport { PageContext } from \"./providers/page/Page.provider\";\r\n\r\nfunction readJsonFile(file, callback) {\r\n  var rawFile = new XMLHttpRequest();\r\n  rawFile.overrideMimeType(\"application/json\");\r\n  rawFile.open(\"GET\", file, true);\r\n  rawFile.onreadystatechange = function () {\r\n    if (rawFile.readyState === 4 && rawFile.status === \"200\") {\r\n      callback(rawFile.responseText);\r\n    }\r\n  };\r\n  rawFile.send(null);\r\n}\r\ndocument.addEventListener(\"DOMContentLoaded\", appLoader, false);\r\nfunction appLoader() {\r\n  if (window.navigator.onLine) {\r\n    Promise.race([\r\n      Promise.all([\r\n        new Promise((resolve, _) => {\r\n          fetch(\"https://pixel-painter-8af7b.firebaseio.com/apps.json\")\r\n            .then((res) => res.json())\r\n            .then((apps) => {\r\n              localStorage.setItem(\"apps\", JSON.stringify(apps));\r\n              return resolve(\"resolved\");\r\n            })\r\n            .catch((err) => _(err));\r\n        }),\r\n      ]),\r\n      new Promise((_, reject) =>\r\n        setTimeout(() => reject(new Error(\"Timeout\")), 3000)\r\n      ),\r\n    ]).catch((err) => {\r\n      console.log(err);\r\n      let isApp = localStorage.getItem(\"apps\");\r\n      if (isApp == null) {\r\n        readJsonFile(\"./apps.json\", function (text) {\r\n          localStorage.setItem(\"apps\", text);\r\n        });\r\n      }\r\n    });\r\n  } else {\r\n    let isApp = localStorage.getItem(\"apps\");\r\n    if (isApp == null) {\r\n      readJsonFile(\"./apps.json\", function (text) {\r\n        localStorage.setItem(\"apps\", text);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nconst App = () => {\r\n  const { pageState } = useContext(PageContext);\r\n\r\n  return pageState.page === \"home\" ? (\r\n    <>\r\n      <div id=\"snackbar\"></div>\r\n      <div id=\"ad-container3\"></div>\r\n      <Home />\r\n      <Softkeys />\r\n    </>\r\n  ) : (\r\n    <>\r\n      <div id=\"snackbar\"></div>\r\n      <div id=\"ad-container3\"></div>\r\n      <Image id={pageState.page} />\r\n      <Softkeys />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport TabProvider from \"./providers/images/Images.provider\";\nimport PageProvider from \"./providers/page/Page.provider\";\nimport SoftkeysProvider from \"./providers/softkeys/Softkeys.provider\";\n// import * as serviceWorker from './serviceWorker';\n\nconst app = (\n  <TabProvider>\n    <PageProvider>\n      <SoftkeysProvider>\n        <App />\n      </SoftkeysProvider>\n    </PageProvider>\n  </TabProvider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}